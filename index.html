<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>NoShopiA ‚Äì Closet Inteligente con IA</title>
  <meta name="description" content="Sube tu ropa, elige la ocasi√≥n y deja que NoShopiA arme tus mejores combinaciones con IA." />

  <!-- Icons / Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

  <!-- Estilos b√°sicos -->
  <style>
    :root{
      --primary:#3b82f6; --primary-600:#2563eb; --accent:#10b981;
      --bg:#0b0b0c; --panel:#ffffff; --text:#111827; --muted:#6b7280;
      --border:#e5e7eb;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;background:#f7f7f8;color:var(--text)}
    a{color:var(--primary);text-decoration:none}
    .container{max-width:1100px;margin:0 auto;padding:0 20px}

    /* Header */
    header{
      position:sticky;top:0;z-index:50;background:#fff;border-bottom:1px solid var(--border);
      backdrop-filter:saturate(180%) blur(6px)
    }
    .nav-wrap{display:flex;align-items:center;justify-content:space-between;height:64px}
    .brand{display:flex;align-items:center;gap:.6rem;font-weight:800;color:#000}
    .brand i{color:var(--primary)}
    nav ul{display:flex;gap:1.25rem;list-style:none;margin:0;padding:0}
    nav a{color:#111827;font-weight:600}
    #headerLoginBtn{
      display:inline-flex;align-items:center;gap:.5rem;background:var(--primary);
      color:#fff;border:none;border-radius:10px;padding:.6rem 1rem;font-weight:700;cursor:pointer;opacity:.9
    }
    #headerLoginBtn:hover{opacity:1;background:var(--primary-600)}
    #userInfo{display:none;align-items:center;gap:.8rem}
    #userAvatar{width:36px;height:36px;border-radius:50%;object-fit:cover;border:1px solid var(--border)}
    #logoutBtn{
      background:transparent;border:1px solid var(--border);padding:.4rem .7rem;border-radius:8px;color:#374151;cursor:pointer
    }

    /* Hero */
    .hero{background:linear-gradient(180deg,#fafcff, #f4f7ff);border-bottom:1px solid var(--border)}
    .hero-grid{display:grid;grid-template-columns:1.2fr .8fr;gap:2rem;align-items:center;padding:60px 0}
    .hero h1{font-size:42px;line-height:1.1;margin:0 0 12px}
    .hero p{color:#4b5563;margin:0 0 20px}
    .cta-row{display:flex;gap:12px;flex-wrap:wrap}
    .btn{display:inline-flex;align-items:center;gap:.6rem;border:none;border-radius:12px;padding:.9rem 1.2rem;font-weight:800;cursor:pointer}
    .btn-primary{background:var(--primary);color:#fff}
    .btn-primary:hover{background:var(--primary-600)}
    .btn-ghost{background:#fff;border:1px solid var(--border);color:#111827}
    .hero-card{background:#fff;border:1px solid var(--border);border-radius:16px;padding:18px}

    /* Secciones */
    section{padding:48px 0}
    h2.section-title{margin:0 0 8px;font-size:28px}
    .muted{color:#6b7280}

    /* Welcome */
    #welcomeSection{display:none}
    .welcome-box{background:#fff;border:1px solid var(--border);border-radius:16px;padding:22px;display:flex;align-items:center;justify-content:space-between;gap:12px}

    /* Profile form */
    #profileForm{display:none}
    .profile-grid{display:grid;grid-template-columns:1fr 1fr 1fr;gap:1rem}
    .card{background:#fff;border:1px solid var(--border);border-radius:16px;padding:16px}
    .options{display:flex;flex-wrap:wrap;gap:.6rem;margin-top:.6rem}
    .profile-option{
      padding:.55rem .8rem;border-radius:999px;border:1px solid var(--border);cursor:pointer;background:#fff;font-weight:600
    }
    .profile-option.selected{background:#111827;color:#fff;border-color:#111827}
    #createProfileBtn{
      width:100%;margin-top:14px;padding:12px 16px;border:none;border-radius:12px;font-weight:800;background:#111827;color:#fff;opacity:.6
    }

    /* Closet Question */
    #closetQuestion{display:none}
    .mode-grid{display:grid;grid-template-columns:1fr 1fr;gap:1rem}
    .mode-card{background:#fff;border:1px solid var(--border);border-radius:16px;padding:18px}
    .mode-card h3{margin:0 0 8px}
    .mode-card p{margin:0 0 12px;color:#6b7280}

    /* Closet Container */
    #closetContainer{display:none}
    .closet-header{display:flex;align-items:center;justify-content:space-between;gap:16px;margin-bottom:14px}
    .stats{display:flex;gap:12px}
    .stat{background:#fff;border:1px solid var(--border);border-radius:12px;padding:10px 12px;font-weight:700}
    .tabs{display:flex;gap:.5rem;flex-wrap:wrap}
    .closet-tab{padding:.55rem .9rem;border:1px solid var(--border);background:#fff;border-radius:999px;cursor:pointer;font-weight:700}
    .closet-tab.active, .closet-tab:hover{background:#111827;color:#fff;border-color:#111827}
    .closet-tab-content{margin-top:12px}

    .closet-folders{display:grid;grid-template-columns:repeat(3,minmax(220px,1fr));gap:1rem;margin-top:14px}
    .folder-item{
      border:1px solid var(--border);border-radius:16px;background:#fff;padding:18px;display:flex;align-items:center;gap:12px;transition:.2s
    }
    .folder-icon{font-size:24px}
    .folder-name{font-weight:800}

    /* Direct mode */
    #occasionSelector{display:none}
    .occasion-row{display:flex;flex-wrap:wrap;gap:.6rem}
    .occasion-btn{
      border:1px solid var(--border);background:#fff;border-radius:999px;padding:.55rem .9rem;font-weight:700;cursor:pointer
    }
    .occasion-btn.selected, .occasion-btn:hover{background:#111827;color:#fff;border-color:#111827}

    #uploadArea{display:none}
    .upload-grid{display:grid;grid-template-columns:repeat(3,minmax(220px,1fr));gap:1rem}
    .upload-card{background:#fff;border:1px solid var(--border);border-radius:16px;padding:16px}
    input[type="file"]{display:none}
    .upload-label{
      display:block;text-align:center;background:#f9fafb;border:1px dashed var(--border);
      padding:16px;border-radius:12px;font-weight:700;cursor:pointer
    }
    .previews{display:grid;grid-template-columns:repeat(2,1fr);gap:.5rem;margin-top:.6rem}
    .preview-image{width:100%;height:120px;object-fit:cover;border-radius:10px;border:1px solid var(--border)}
    .remove-image{position:absolute;top:6px;right:6px;border:none;background:#ef4444;color:#fff;border-radius:999px;width:26px;height:26px;font-weight:800;cursor:pointer}

    #processingTimer{display:none;margin-top:10px;color:#6b7280}
    #result{display:none;margin-top:24px}

    /* Impact bars */
    .impact-bars{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem}
    .impact{background:#fff;border:1px solid var(--border);border-radius:16px;padding:16px}
    .bar{height:10px;background:#eef2ff;border-radius:999px;overflow:hidden}
    .impact-fill{display:block;height:100%;width:0;background:var(--primary);border-radius:999px;transition:width .6s ease}

    /* Planes */
    .pricing{display:grid;grid-template-columns:1fr 1fr;gap:1rem}
    .pricing .card h3{margin:0 0 6px}
    .pricing-btn{width:100%;margin-top:10px;padding:12px 16px;border:none;border-radius:12px;font-weight:800;cursor:pointer}
    .pricing-btn.free{background:var(--accent);color:#fff}
    .pricing-btn.premium{background:#111827;color:#fff}

    /* Footer */
    footer{background:#0c0d10;color:#cbd5e1;margin-top:40px;padding:28px 0}
    footer a{color:#cbd5e1;text-decoration:underline}
    .footer-grid{display:flex;flex-wrap:wrap;gap:16px;align-items:center;justify-content:space-between}
    .foot-left{display:flex;align-items:center;gap:.6rem}
    .foot-left i{color:#60a5fa}
    .micro{font-size:12px;color:#94a3b8;margin-top:6px}

    /* Notifications from JS */
    .notification{
      position:fixed;top:18px;right:18px;background:linear-gradient(135deg,#3b82f6,#1d4ed8);
      color:#fff;padding:12px 16px;border-radius:12px;font-weight:700;z-index:9999;
      box-shadow:0 10px 30px rgba(0,0,0,.15)
    }
    .notification.success{background:linear-gradient(135deg,#10b981,#059669)}
    .notification.error{background:linear-gradient(135deg,#ef4444,#dc2626)}
  </style>

  <!-- Google Identity Services -->
  <script src="https://accounts.google.com/gsi/client" async defer></script>
</head>
<body>

  <!-- ============================== HEADER ============================== -->
  <header>
    <div class="container nav-wrap">
      <div class="brand">
        <i class="fa-solid fa-wand-magic-sparkles"></i>
        <span>NoShopiA</span>
      </div>
      <nav class="desktop">
        <ul>
          <li><a href="#hero">Inicio</a></li>
          <li><a href="#closet">Closet</a></li>
          <li><a href="#rapidas">R√°pidas</a></li>
          <li><a href="#impacto">Impacto</a></li>
          <li><a href="#planes">Planes</a></li>
        </ul>
      </nav>

      <!-- Bot√≥n de login (JS lo habilita) -->
      <button id="headerLoginBtn"><i class="fab fa-google"></i> Conectar con Google</button>

      <!-- Info de usuario (se muestra al loguear) -->
      <div id="userInfo">
        <img id="userAvatar" src="" alt="avatar" />
        <strong id="userName">Usuario</strong>
        <button id="logoutBtn" onclick="logout()"><i class="fa-solid fa-arrow-right-from-bracket"></i></button>
      </div>
    </div>
  </header>

  <!-- ============================== HERO =============================== -->
  <section class="hero" id="hero">
    <div class="container hero-grid">
      <div>
        <h1>Tu <span style="color:var(--primary)">closet inteligente</span> con IA</h1>
        <p>Sube tu ropa, elige la ocasi√≥n y deja que NoShopiA arme tus mejores combinaciones. Guarda tus favoritas y crea tu closet digital.</p>
        <div class="cta-row">
          <button id="heroLogin" class="btn btn-primary" onclick="handleMainLogin()">
            <i class="fab fa-google"></i> Conectar con Google ‚Äì ¬°Gratis!
          </button>
          <a class="btn btn-ghost" href="#closet"><i class="fa-solid fa-folder-open"></i> Ver Closet</a>
        </div>
        <div class="hero-card" style="margin-top:16px">
          <strong>¬øC√≥mo funciona?</strong>
          <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-top:8px">
            <div>1) Login</div>
            <div>2) Sube tus prendas</div>
            <div>3) Te proponemos looks</div>
          </div>
        </div>
      </div>
      <div>
        <div class="hero-card">
          <div style="display:flex;align-items:center;gap:10px;margin-bottom:10px">
            <i class="fa-solid fa-sparkles"></i><strong>IA de combinaciones</strong>
          </div>
          <img src="https://images.unsplash.com/photo-1543087903-1ac2ec7aa8c5?q=80&w=1280&auto=format&fit=crop" alt="closet" style="width:100%;border-radius:12px;border:1px solid var(--border)">
        </div>
      </div>
    </div>
  </section>

  <!-- =========================== WELCOME (post login) =========================== -->
  <section id="welcomeSection">
    <div class="container">
      <div class="welcome-box">
        <div>
          <strong>¬°Hola, <span id="welcomeUserName">Usuario</span>!</strong>
          <div class="muted">Elige c√≥mo empezar: Closet Digital con IA o Recomendaciones R√°pidas.</div>
        </div>
        <div class="cta-row">
          <button class="btn btn-primary" onclick="enableCloset()"><i class="fa-solid fa-folder-tree"></i> Closet Digital</button>
          <button class="btn btn-ghost" onclick="useDirectMode()"><i class="fa-solid fa-bolt"></i> R√°pidas</button>
        </div>
      </div>
    </div>
  </section>

  <!-- ============================== PERFIL ============================== -->
  <section id="perfil">
    <div class="container">
      <div id="profileForm" class="card">
        <h2 class="section-title">Completa tu perfil (una sola vez)</h2>
        <div class="muted">Tu perfil mejora la calidad de las recomendaciones.</div>

        <div class="profile-grid" style="margin-top:14px">
          <div class="card">
            <strong>Piel</strong>
            <div class="options">
              <span class="profile-option" data-field="skin_color" data-value="clara">Clara</span>
              <span class="profile-option" data-field="skin_color" data-value="media">Media</span>
              <span class="profile-option" data-field="skin_color" data-value="oscura">Oscura</span>
            </div>
          </div>
          <div class="card">
            <strong>Edad</strong>
            <div class="options">
              <span class="profile-option" data-field="age_range" data-value="18-25">18‚Äì25</span>
              <span class="profile-option" data-field="age_range" data-value="26-35">26‚Äì35</span>
              <span class="profile-option" data-field="age_range" data-value="36-45">36‚Äì45</span>
              <span class="profile-option" data-field="age_range" data-value="46+">46+</span>
            </div>
          </div>
          <div class="card">
            <strong>G√©nero</strong>
            <div class="options">
              <span class="profile-option" data-field="gender" data-value="femenino">Femenino</span>
              <span class="profile-option" data-field="gender" data-value="masculino">Masculino</span>
              <span class="profile-option" data-field="gender" data-value="otro">Otro</span>
            </div>
          </div>
        </div>

        <button id="createProfileBtn" disabled><i class="fas fa-user-plus"></i> Selecciona todas las opciones</button>
      </div>
    </div>
  </section>

  <!-- ========================= PREGUNTA DE MODO ========================= -->
  <section id="closet" >
    <div class="container">
      <div id="closetQuestion" class="mode-grid">
        <div class="mode-card">
          <h3>üß† Closet Digital</h3>
          <p>Sube fotos a carpetas. La IA detecta el tipo de prenda y la ordena autom√°ticamente.</p>
          <button class="btn btn-primary" onclick="enableCloset()"><i class="fa-solid fa-folder-tree"></i> Empezar con Closet</button>
        </div>
        <div class="mode-card">
          <h3>‚ö° Recomendaciones R√°pidas</h3>
          <p>Elige la ocasi√≥n, sube 1‚Äì3 fotos de cada categor√≠a y genera looks al instante.</p>
          <button class="btn btn-ghost" onclick="useDirectMode()"><i class="fa-solid fa-wand-magic-sparkles"></i> Empezar r√°pido</button>
        </div>
      </div>
    </div>
  </section>

  <!-- =========================== CLOSET INTELIGENTE =========================== -->
  <section>
    <div class="container" id="closetContainer">
      <div class="closet-header">
        <h2>Mi Closet Favorito <span style="font-size:.85rem;color:#6b7280">(0/15 prendas)</span></h2>
        <div class="stats">
          <div class="stat">Visitas: <span id="closetVisits">1</span></div>
          <div class="stat">Recs: <span id="closetRecommendations">0</span></div>
          <div class="stat">‚≠ê: <span id="closetOutfits">0</span></div>
        </div>
      </div>

      <div class="muted" id="userEmail">Bienvenido</div>

      <div class="tabs" style="margin:10px 0">
        <button class="closet-tab active" data-tab="superiores">üëï Superiores</button>
        <button class="closet-tab" data-tab="inferiores">üëñ Inferiores</button>
        <button class="closet-tab" data-tab="calzado">üëû Calzado</button>
        <button class="closet-tab" data-tab="recomendaciones">‚≠ê Favoritas</button>
      </div>

      <div id="superiores" class="closet-tab-content"></div>
      <div id="inferiores" class="closet-tab-content" style="display:none"></div>
      <div id="calzado" class="closet-tab-content" style="display:none"></div>
      <div id="recomendaciones" class="closet-tab-content" style="display:none"></div>

      <!-- Carpetas para subir (se usa la pesta√±a activa para decidir tipo) -->
      <div class="closet-folders">
        <div class="folder-item">
          <div class="folder-icon">üìÇ</div>
          <div>
            <div class="folder-name">Agregar a carpeta 1</div>
            <div class="muted">Haz clic para subir im√°genes</div>
          </div>
        </div>
        <div class="folder-item">
          <div class="folder-icon">üìÇ</div>
          <div>
            <div class="folder-name">Agregar a carpeta 2</div>
            <div class="muted">Compatible con JPG/PNG/WebP</div>
          </div>
        </div>
        <div class="folder-item">
          <div class="folder-icon">üìÇ</div>
          <div>
            <div class="folder-name">Agregar a carpeta 3</div>
            <div class="muted">Se ordena con IA</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- =========================== R√ÅPIDAS (DIRECT MODE) =========================== -->
  <section id="rapidas">
    <div class="container">
      <!-- Ocasi√≥n -->
      <div id="occasionSelector" class="card">
        <h2 class="section-title">Elige la ocasi√≥n</h2>
        <div class="occasion-row" style="margin-top:8px">
          <button class="occasion-btn" data-occasion="oficina">Oficina</button>
          <button class="occasion-btn" data-occasion="deportivo">Deportivo</button>
          <button class="occasion-btn" data-occasion="casual">Casual</button>
          <button class="occasion-btn" data-occasion="formal">Formal</button>
          <button class="occasion-btn" data-occasion="matrimonio">Matrimonio</button>
        </div>
      </div>

      <!-- Uploads -->
      <div id="uploadArea" class="upload-grid">
        <div class="upload-card">
          <strong>Superiores</strong>
          <label for="tops-upload" class="upload-label">üì§ Subir Superiores (m√°x 3)</label>
          <input id="tops-upload" type="file" accept="image/*" multiple />
          <div id="tops-preview" class="previews"></div>
        </div>
        <div class="upload-card">
          <strong>Inferiores</strong>
          <label for="bottoms-upload" class="upload-label">üì§ Subir Inferiores (m√°x 3)</label>
          <input id="bottoms-upload" type="file" accept="image/*" multiple />
          <div id="bottoms-preview" class="previews"></div>
        </div>
        <div class="upload-card">
          <strong>Calzado</strong>
          <label for="shoes-upload" class="upload-label">üì§ Subir Calzado (m√°x 5)</label>
          <input id="shoes-upload" type="file" accept="image/*" multiple />
          <div id="shoes-preview" class="previews"></div>
        </div>
      </div>

      <div class="container" style="padding:0;margin-top:12px">
        <button id="generateBtn" class="btn btn-primary" disabled>
          <i class="fas fa-upload"></i> Completa todos los campos
        </button>
        <div id="processingTimer">Procesando‚Ä¶ <strong id="timerDisplay">0.0s</strong></div>
      </div>

      <div id="result" class="container"></div>
    </div>
  </section>

  <!-- ============================== IMPACTO ============================== -->
  <section id="impacto">
    <div class="container">
      <h2 class="section-title">Impacto</h2>
      <div class="muted">Ahorra tiempo, reutiliza m√°s, decide mejor.</div>
      <div class="impact-bars" style="margin-top:12px">
        <div class="impact">
          <strong>Ahorro de tiempo</strong>
          <div class="bar" style="margin-top:8px"><span class="impact-fill" data-width="90"></span></div>
        </div>
        <div class="impact">
          <strong>Reutilizaci√≥n de prendas</strong>
          <div class="bar" style="margin-top:8px"><span class="impact-fill" data-width="75"></span></div>
        </div>
        <div class="impact">
          <strong>Decisiones m√°s f√°ciles</strong>
          <div class="bar" style="margin-top:8px"><span class="impact-fill" data-width="85"></span></div>
        </div>
      </div>
    </div>
  </section>

  <!-- =============================== PLANES =============================== -->
  <section id="planes">
    <div class="container">
      <h2 class="section-title">Planes</h2>
      <div class="pricing">
        <div class="card">
          <h3>Gratis</h3>
          <div class="muted">Hasta 15 prendas y recomendaciones b√°sicas.</div>
          <button class="pricing-btn free"><i class="fa-solid fa-gift"></i> Empezar gratis</button>
        </div>
        <div class="card">
          <h3>Premium</h3>
          <div class="muted">M√°s prendas, IA prioritaria y soporte.</div>
          <button class="pricing-btn premium"><i class="fa-solid fa-star"></i> Pr√≥ximamente</button>
        </div>
      </div>
    </div>
  </section>

  <!-- =============================== FOOTER =============================== -->
  <footer>
    <div class="container footer-grid">
      <div class="foot-left">
        <i class="fa-solid fa-wand-magic-sparkles"></i><strong>NoShopiA</strong>
      </div>
      <div>
        <div>Soporte: <a href="mailto:info@noshopia.com">info@noshopia.com</a></div>
        <div class="micro">¬© <span id="year"></span> NoShopiA. Todos los derechos reservados.</div>
      </div>
    </div>
  </footer>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>

  <!-- =============================== CONFIG =============================== -->
  <script>
    // config.js - Configuraci√≥n Simple (VALORES QUE NOS PASASTE)
    const CONFIG = {
      GOOGLE_CLIENT_ID: '326940877598-ko13n1qcqkkugkoo6gu2n1avs46al09p.apps.googleusercontent.com',
      API_BASE: 'https://noshopia-production.up.railway.app/',
      TOTAL_CLOSET_LIMIT: 15,
      FILE_LIMITS: { tops: 3, bottoms: 3, shoes: 5 }
    };
    console.log('‚úÖ Configuraci√≥n cargada', CONFIG);
    window.CONFIG = CONFIG; // expone global por si acaso
  </script>

  <!-- ========== TRADUCTOR Y CATEGOR√çAS (viven en el HTML) ========== -->
  <script>
    // ====== Traducciones backend ‚Üí frontend ======
    window.BACKEND_TO_SPANISH_TRANSLATOR = {
      'shirt':{category:'shirt',name:'Camisa',icon:'üëî',type:'tops'},
      'dress_shirt':{category:'shirt',name:'Camisa',icon:'üëî',type:'tops'},
      'button_shirt':{category:'shirt',name:'Camisa',icon:'üëî',type:'tops'},
      't-shirt':{category:'tshirt',name:'Polera',icon:'üëï',type:'tops'},
      'tshirt':{category:'tshirt',name:'Polera',icon:'üëï',type:'tops'},
      'tee':{category:'tshirt',name:'Polera',icon:'üëï',type:'tops'},
      'tank_top':{category:'tshirt',name:'Polera',icon:'üëï',type:'tops'},
      'graphic_tee':{category:'tshirt',name:'Polera',icon:'üëï',type:'tops'},
      'blouse':{category:'blouse',name:'Blusa',icon:'üëö',type:'tops'},
      'silk_blouse':{category:'blouse',name:'Blusa',icon:'üëö',type:'tops'},
      'sweater':{category:'sweater',name:'Su√©ter',icon:'üß•',type:'tops'},
      'cardigan':{category:'sweater',name:'Su√©ter',icon:'üß•',type:'tops'},
      'pullover':{category:'sweater',name:'Su√©ter',icon:'üß•',type:'tops'},
      'knitted':{category:'sweater',name:'Su√©ter',icon:'üß•',type:'tops'},
      'hoodie':{category:'hoodie',name:'Hoodie',icon:'üëò',type:'tops'},
      'sweatshirt':{category:'hoodie',name:'Hoodie',icon:'üëò',type:'tops'},
      'zip_hoodie':{category:'hoodie',name:'Hoodie',icon:'üëò',type:'tops'},
      'jacket':{category:'jacket',name:'Chaqueta',icon:'üß•',type:'tops'},
      'blazer':{category:'jacket',name:'Chaqueta',icon:'üß•',type:'tops'},
      'leather_jacket':{category:'jacket',name:'Chaqueta',icon:'üß•',type:'tops'},
      'denim_jacket':{category:'jacket',name:'Chaqueta',icon:'üß•',type:'tops'},
      'coat':{category:'coat',name:'Abrigo',icon:'üß•',type:'tops'},
      'winter_coat':{category:'coat',name:'Abrigo',icon:'üß•',type:'tops'},
      'trench_coat':{category:'coat',name:'Abrigo',icon:'üß•',type:'tops'},
      'overcoat':{category:'coat',name:'Abrigo',icon:'üß•',type:'tops'},
      'vest':{category:'vest',name:'Chaleco',icon:'ü¶∫',type:'tops'},
      'waistcoat':{category:'vest',name:'Chaleco',icon:'ü¶∫',type:'tops'},
      'dress':{category:'dress',name:'Vestido',icon:'üëó',type:'bottoms'},
      'summer_dress':{category:'dress',name:'Vestido',icon:'üëó',type:'bottoms'},
      'evening_dress':{category:'dress',name:'Vestido',icon:'üëó',type:'bottoms'},
      'jeans':{category:'jeans',name:'Jeans',icon:'üëñ',type:'bottoms'},
      'denim':{category:'jeans',name:'Jeans',icon:'üëñ',type:'bottoms'},
      'blue_jeans':{category:'jeans',name:'Jeans',icon:'üëñ',type:'bottoms'},
      'ripped_jeans':{category:'jeans',name:'Jeans',icon:'üëñ',type:'bottoms'},
      'pants':{category:'pants',name:'Pantalones',icon:'üëñ',type:'bottoms'},
      'trousers':{category:'pants',name:'Pantalones',icon:'üëñ',type:'bottoms'},
      'formal_pants':{category:'pants',name:'Pantalones',icon:'üëñ',type:'bottoms'},
      'chinos':{category:'pants',name:'Pantalones',icon:'üëñ',type:'bottoms'},
      'slacks':{category:'pants',name:'Pantalones',icon:'üëñ',type:'bottoms'},
      'shorts':{category:'shorts',name:'Shorts',icon:'ü©≥',type:'bottoms'},
      'athletic_shorts':{category:'shorts',name:'Shorts',icon:'ü©≥',type:'bottoms'},
      'bermuda':{category:'shorts',name:'Shorts',icon:'ü©≥',type:'bottoms'},
      'skirt':{category:'skirt',name:'Falda',icon:'üëó',type:'bottoms'},
      'midi_skirt':{category:'skirt',name:'Falda',icon:'üëó',type:'bottoms'},
      'mini_skirt':{category:'skirt',name:'Falda',icon:'üëó',type:'bottoms'},
      'pencil_skirt':{category:'skirt',name:'Falda',icon:'üëó',type:'bottoms'},
      'leggings':{category:'leggings',name:'Calzas',icon:'ü©±',type:'bottoms'},
      'sweatpants':{category:'leggings',name:'Calzas',icon:'ü©±',type:'bottoms'},
      'athletic_pants':{category:'leggings',name:'Calzas',icon:'ü©±',type:'bottoms'},
      'yoga_pants':{category:'leggings',name:'Calzas',icon:'ü©±',type:'bottoms'},
      'sneakers':{category:'sneakers',name:'Zapatillas',icon:'üëü',type:'shoes'},
      'running_shoes':{category:'sneakers',name:'Zapatillas',icon:'üëü',type:'shoes'},
      'athletic_shoes':{category:'sneakers',name:'Zapatillas',icon:'üëü',type:'shoes'},
      'trainers':{category:'sneakers',name:'Zapatillas',icon:'üëü',type:'shoes'},
      'dress_shoes':{category:'dress_shoes',name:'Zapatos Formales',icon:'üëû',type:'shoes'},
      'formal_shoes':{category:'dress_shoes',name:'Zapatos Formales',icon:'üëû',type:'shoes'},
      'leather_shoes':{category:'dress_shoes',name:'Zapatos Formales',icon:'üëû',type:'shoes'},
      'oxfords':{category:'dress_shoes',name:'Zapatos Formales',icon:'üëû',type:'shoes'},
      'boots':{category:'boots',name:'Botas',icon:'ü•æ',type:'shoes'},
      'ankle_boots':{category:'boots',name:'Botas',icon:'ü•æ',type:'shoes'},
      'hiking_boots':{category:'boots',name:'Botas',icon:'ü•æ',type:'shoes'},
      'combat_boots':{category:'boots',name:'Botas',icon:'ü•æ',type:'shoes'},
      'heels':{category:'heels',name:'Tacones',icon:'üë†',type:'shoes'},
      'stiletto_heels':{category:'heels',name:'Tacones',icon:'üë†',type:'shoes'},
      'high_heels':{category:'heels',name:'Tacones',icon:'üë†',type:'shoes'},
      'pumps':{category:'heels',name:'Tacones',icon:'üë†',type:'shoes'},
      'sandals':{category:'sandals',name:'Sandalias',icon:'üë°',type:'shoes'},
      'leather_sandals':{category:'sandals',name:'Sandalias',icon:'üë°',type:'shoes'},
      'flip_flops':{category:'sandals',name:'Sandalias',icon:'üë°',type:'shoes'},
      'flats':{category:'flats',name:'Ballerinas',icon:'ü•ø',type:'shoes'},
      'ballet_flats':{category:'flats',name:'Ballerinas',icon:'ü•ø',type:'shoes'},
      'loafers':{category:'flats',name:'Ballerinas',icon:'ü•ø',type:'shoes'},
      'top':{category:'tshirt',name:'Superior',icon:'üëï',type:'tops'},
      'bottom':{category:'pants',name:'Inferior',icon:'üëñ',type:'bottoms'},
      'shoe':{category:'sneakers',name:'Calzado',icon:'üëü',type:'shoes'}
    };

    // Categor√≠as (si quieres usarlas en el HTML)
    window.INTELLIGENT_CATEGORIES = {
      tops:{tshirt:{name:"Poleras",icon:"üëï",keywords:["t-shirt","tee","graphic","tank top","polera"],color:"#10b981"},
            shirt:{name:"Camisas",icon:"üëî",keywords:["shirt","dress shirt","button","collar","camisa"],color:"#3b82f6"},
            blouse:{name:"Blusas",icon:"üëö",keywords:["blouse","silk blouse","flowy","blusa"],color:"#ec4899"},
            sweater:{name:"Su√©teres",icon:"üß•",keywords:["sweater","knitted","wool","pullover","cardigan","sueter"],color:"#f59e0b"},
            hoodie:{name:"Hoodies",icon:"üëò",keywords:["hoodie","zip-up","sweatshirt","hooded","capucha"],color:"#ef4444"},
            jacket:{name:"Chaquetas",icon:"üß•",keywords:["jacket","leather","denim","blazer","outer","chaqueta"],color:"#6b7280"},
            coat:{name:"Abrigos",icon:"üß•",keywords:["coat","winter coat","overcoat","trench","abrigo"],color:"#1f2937"},
            dress:{name:"Vestidos",icon:"üëó",keywords:["dress","summer dress","evening dress","gown","vestido"],color:"#8b5cf6"},
            vest:{name:"Chalecos",icon:"ü¶∫",keywords:["vest","waistcoat","chaleco"],color:"#84cc16"}},
      bottoms:{jeans:{name:"Jeans",icon:"üëñ",keywords:["jeans","denim","blue jeans","ripped"],color:"#1e40af"},
               pants:{name:"Pantalones",icon:"üëñ",keywords:["pants","trousers","formal pants","chinos","slacks","pantalon"],color:"#3b82f6"},
               skirt:{name:"Faldas",icon:"üëó",keywords:["skirt","midi skirt","pencil skirt","mini skirt","falda"],color:"#ec4899"},
               shorts:{name:"Shorts",icon:"ü©≥",keywords:["shorts","athletic shorts","bermuda"],color:"#10b981"},
               leggings:{name:"Calzas",icon:"ü©±",keywords:["leggings","sweatpants","athletic pants","yoga pants","calza"],color:"#6b7280"},
               dress:{name:"Vestidos",icon:"üëó",keywords:["dress","summer dress","evening dress","gown","vestido"],color:"#8b5cf6"}},
      shoes:{sneakers:{name:"Zapatillas",icon:"üëü",keywords:["sneakers","running shoes","athletic shoes","trainers","zapatilla"],color:"#3b82f6"},
             dress_shoes:{name:"Zapatos Formales",icon:"üëû",keywords:["dress shoes","leather shoes","formal shoes","oxfords","zapato"],color:"#1f2937"},
             boots:{name:"Botas",icon:"ü•æ",keywords:["boots","ankle boots","hiking boots","combat boots","bota"],color:"#92400e"},
             heels:{name:"Tacones",icon:"üë†",keywords:["heels","stiletto heels","pumps","high heels","tacos","tacon"],color:"#ec4899"},
             sandals:{name:"Sandalias",icon:"üë°",keywords:["sandals","leather sandals","flip flops","sandalia"],color:"#f59e0b"},
             flats:{name:"Ballerinas",icon:"ü•ø",keywords:["flats","ballet flats","loafers","ballerina"],color:"#6b7280"}}
    };

    window.getCategoryInfo = function(type, category){
      if(!window.INTELLIGENT_CATEGORIES[type] || !window.INTELLIGENT_CATEGORIES[type][category]){
        return {name:"Desconocido",icon:"‚ùì",keywords:[],color:"#6b7280"};
      }
      return window.INTELLIGENT_CATEGORIES[type][category];
    };

    window.findCategoryByKeyword = function(type, keyword){
      if(!window.INTELLIGENT_CATEGORIES[type]) return null;
      const lower = String(keyword||'').toLowerCase();
      for(const [key, info] of Object.entries(window.INTELLIGENT_CATEGORIES[type])){
        if(info.keywords.some(k => k.toLowerCase().includes(lower))) return key;
      }
      return null;
    };

    window.translateBackendItem = function(detected_item){
      if(!detected_item){
        return {category:'unknown',name:'Sin clasificar',icon:'‚ùì',type:'tops'};
      }
      const t = window.BACKEND_TO_SPANISH_TRANSLATOR[String(detected_item).toLowerCase()];
      if(t){ console.log(`‚úÖ Traducido: "${detected_item}" ‚Üí "${t.name}"`); return t; }
      console.warn(`‚ö†Ô∏è Sin traducci√≥n para: "${detected_item}"`);
      return {category:'unknown',name:detected_item,icon:'‚ùì',type:'tops'};
    };
  </script>

  <!-- =============================== APP (tu archivo) =============================== -->
  <script src="config.js"></script>
  <script src="app.js"></script>
</body>
</html>
